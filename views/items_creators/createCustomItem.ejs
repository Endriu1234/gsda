<% layout('templates/viewTemplate') %>
<div class="row">
    <div class="col-12">
        <h1 class="text-center">Create Custom Item</h1>
        <div class="col-lg-8 offset-lg-2">
            <form action="/campgrounds" method="POST" novalidate class="validated-form" enctype="multipart/form-data">
                <div class="mb-3">
                    <label for="project" class="form-label">Project</label>
                    <input class="form-control" list="projectOptions" id="project" placeholder="Type to search..." required>
                    <datalist id="projectOptions">
                        <% projects.forEach(project => { %>
                            <option value="<%=project.name%>">
                        <% }); %>
                        </datalist>
                </div>
                <div class="mb-3">
                    <% trackers.forEach((tracker, index) => { %>
                    <div class="form-check form-check-inline">
                        <input class="form-check-input" type="radio" name="item[type]" id="typeRadio<%=index%>"
                        value="<%=tracker.id%>" <% if(index === 0) { %>checked="checked" <%}%>>
                        <label class="form-check-label" for="typeRadio<%=index%>"><%=tracker.name%></label>
                    </div>
                    <% }); %>
                </div>
                <div class="mb-3">
                    <label class="form-label" for="topic">Topic</label>
                    <input class="form-control" type="text" id="topic" name="item[topic]" required>
                    <div class="valid-feedback">
                        Looks good!
                    </div>
                </div>
                <div class="mb-3">
                    <label class="form-label" for="description">Description</label>
                    <textarea class="form-control" type="text" id="description" name="item[description]"
                        required rows="10"></textarea>
                    <div class="valid-feedback">
                        Looks good!
                    </div>
                </div>
                <div class="mb-3">
                    <label for="assignee" class="form-label">Assignee</label>
                    <input class="form-control" list="assigneeOptions" id="assignee" placeholder="Type to search...">
                    <datalist id="assigneeOptions">
                        <% users.forEach(user => { %>
                            <option value="<%=user.name%>">
                        <% }); %>
                        </datalist>
                </div>
                <div class="mb-3">
                    <label class="form-label" for="tms">TMS Task</label>
                    <input class="form-control" type="text" id="tms" name="item[tms]">
                </div>
                <div class="mb-3">
                    <label class="form-label" for="issue">Issue</label>
                    <input class="form-control" type="text" id="issue" name="item[issue]">
                </div>
                <div class="mb-3">
                    <label class="form-label" for="cr">CR</label>
                    <input class="form-control" type="text" id="cr" name="item[cr]">
                </div>
                <div class="mb-3">
                    <button class="btn btn-success">Create Item</button>
                </div>

            </form>

        </div>
    </div>
</div>